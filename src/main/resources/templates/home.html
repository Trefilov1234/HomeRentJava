<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
<html lang="en">
<head th:insert="fragments.html :: headerfiles">
    <script>
        function viewFunc(id){
            let modal = document.getElementById(id);
            if(modal.style.display === "none"){
                modal.style.display === "block";
            }
        }

        function closeFunc(id){
            let modal = document.getElementById(id);
            if(modal.style.display === "block"){
                modal.style.display === "none";
            }
        }
    </script>
</head>

<body>

<header th:insert="fragments.html :: nav"></header>
<br><br>
<div class="container jumbotron">
    <div th:if="${welcome}" class="alert-secondary alert" role="alert">
        <h3 th:text="${welcome}"></h3>
    </div>
    <div class="row mx-md-n5">
        <div class="card" style="width: 20rem; margin: 22px;" th:each="housing : ${housings}">
            <div class="card-header">
                <h4 class="my-0 font-weight-normal" th:text="housing.city">Product</h4>
                <h4 class="my-0 font-weight-normal" th:text="housing.country">Product</h4>
            </div>
            <div th:unless="${housing.getImages().isEmpty()}">
                <a th:id="'a'+${housing.id}" th:onclick="|viewFun(${housing.id})|" style="cursor: pointer">
                    <img th:src="${housing.getImages().get(0).getDecodedImgPath()}" class="card-img-top" style="width: 100%; heigth: 15vw; object-fit: cover;">
                </a>
            </div>
            <div th:if="${housing.getImages().isEmpty()}">
                <img src="images/mute.png" alt="Item_Image" style="width: 100%; heigth: 15vw; object-fit: cover;">
            </div>
            <div class="card-body">
                <h5 class="card-title" th:text="${item.brand}">Card title</h5>
                <p class="card-text" th:text="${item.category}"></p>
            </div>
            <div class="card-footer">
                <a href="#" th:href="@{'housing/'+${housing.id}}" class="btn btn-outline-dark">Details</a>
                <span class="d-inline-block" tabindex="0" data-toggle="tooltip" title="Add to cart">
                    <a class="btn btn-outline-dark" href="#" th:href="@{'housing/addToRent/' + ${housing.id}}" style="pointer-events: visibleStroke;" type="button">
                        <i class="fas fa-shopping-cart"></i>
                    </a>
                </span>
            </div>
        </div>
    </div>
</div>
<div>
    <a class="btn btn-outline-dark" href="#" th:href="@{'housing/addHousing/'}" style="pointer-events: visibleStroke;" type="button">
        <i class="fas fa-shopping-cart"></i>
    </a>
</div>
    <div th:insert="fragments.html :: footer"/>
</body>
</html>