<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
<html lang="en">
<head th:insert="fragments.html :: headerfiles">
    <meta charset="UTF-8">
    <link rel='stylesheet' type='text/css' media='screen' href='../../public/assets/style.css'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Title</title>
</head>
<body>
<header th:insert="fragments.html :: nav"></header>
<br><br>

<div class="container" th:object="${user}">
    <h1 th:text="@{${user.nickname}}"></h1>
    <div th:text="@{'Firstname: '+${user.firstName}}"></div>
    <div th:text="@{'Lastname: '+${user.lastName}}"></div>
    <div th:text="@{'Patronymic: '+${user.patronymic}}"></div>
    <div th:text="@{'City: '+${user.city}}"></div>
    <div th:text="@{'Country: '+${user.country}}"></div>
    <div th:text="@{'Birthday: '+${user.birthday}}"></div>
    <div th:text="@{'Email: '+${user.email}}"></div>
    <div th:text="@{'Tenant rating: '+${user.tenantRating}}"></div>
    <div th:text="@{'Landlord rating: '+${user.landLordRating}}"></div>
    <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#staticBackdrop" style="margin-top: 5px;">
        Update data
    </button>
    <!-- Модальное окно -->
    <div  class="modal fade modal-text" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Update data</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form th:action="@{'/user/profile/updateData/' +${#authentication.name}}" th:object="${user}" method="post" enctype="multipart/form-data">
                    <div class="modal-body">
                        <div>
                            <label class="form-label" for="firstname">Firstname</label>
                            <input class="form-control" type="text" id="firstname" name="firstName" th:value="@{${user.firstName}}" th:field="*{firstName}" required>
                        </div>
                        <div>
                            <label class="form-label" for="lastname">Lastname</label>
                            <input class="form-control" type="text" id="lastname" name="lastName" th:value="@{${user.lastName}}" th:field="*{lastName}" required>
                        </div>
                        <div>
                            <label class="form-label" for="patronymic">Patronymic</label>
                            <input class="form-control" type="text" id="patronymic" name="patronymic" th:value="@{${user.patronymic}}" th:field="*{patronymic}" required>
                        </div>
                        <div>
                            <label class="form-label" for="city">City</label>
                            <input class="form-control" type="text" id="city" name="city" th:value="@{${user.city}}" th:field="*{city}" required>
                        </div>
                        <div>
                            <label class="form-label" for="country">Country</label>
                            <input class="form-control" type="text" id="country" name="country" th:value="@{${user.country}}" th:field="*{country}" required>
                        </div>
                        <div>
                            <label class="form-label" for="nickname">Nickname</label>
                            <input class="form-control" type="text" id="nickname" name="nickname" th:value="@{${user.nickname}}" th:field="*{nickname}" required>
                        </div>
                        <div>
                            <label class="form-label" for="password">Password</label>
                            <input class="form-control" type="password" id="password"  name="password">
                        </div>
                        <div>
                            <label class="form-label" for="birthday">Birthday</label>
                            <input class="form-control" type="date" id="birthday" name="birthday" th:value="@{${user.birthday}}" th:field="*{birthday}">
                        </div>
                        <div>
                            <label class="form-label" for="email">Email</label>
                            <input class="form-control" type="text" id="email" name="email" th:value="@{${user.email}}" th:field="*{email}" required>
                        </div>
                        <div class="modal-footer">
                            <input type="submit" class="btn btn-dark" value="Update">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>


</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</html>